<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>GPS</title>
</head>
 
<body>
<div id="txt">show data here</div>
 
<script>
navigator.geolocation.watchPosition( (position) => {
    var lat  = position.coords.latitude;            
    var lng  = position.coords.longitude;           
    var accu = position.coords.accuracy;            
    displayData(lat, lng, accu);                    
}, (error) => {                                     
}, {
    enableHighAccuracy: true                       
});
 
function displayData(lat, lng, accu) {
    var txt = document.getElementById("txt");       
    txt.innerHTML = "緯度, 経度: " + lat + ", " + lng + "<br>" 
                  + "精度: "       + accu;
}
function showMyPos(lat, lng) {
    var myPos = new google.maps.LatLng(lat, lng);   
    gmap.setCenter(myPos);                          
    mark.setPosition(myPos);                        
}
function initMap() {
    navigator.geolocation.getCurrentPosition( (position) => {
        var lat = position.coords.latitude;         
        var lng = position.coords.longitude;        
        var initPos = new google.maps.LatLng(lat, lng); 
        gmap = new google.maps.Map(mapDiv, {        
            center: initPos,                        
            zoom: 16                                
        });
        mark = new google.maps.Marker({             
            map: gmap,                              
            position: initPos,                      
        });
    }, (error) => {                                 
    }, {
        enableHighAccuracy: true                    
    });
}
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB8uhIz9I0ZGTYeViKIuorOuwaoG9a_4aA&callback=initMap">
</script>

</script>
</body>
</html>
